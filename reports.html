<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ø±ÙƒØ² Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ø°ÙƒÙŠ - Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ§ÙƒØ³ÙŠ</title>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <style>
        :root {
            --taxi-yellow: #f1c40f;
            --dark-bg: #0b0b0b;
            --card-bg: #161616;
            --text-gray: #b3b3b3;
            --border: #282828;
        }

        body {
            font-family: 'Tajawal', sans-serif;
            background-color: var(--dark-bg);
            color: #fff;
            margin: 0;
            padding: 20px;
        }

        /* Ø§Ù„Ù‡ÙŠØ¯Ø± */
        .report-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
            background: var(--card-bg);
            border-radius: 15px;
            border-bottom: 4px solid var(--taxi-yellow);
            margin-bottom: 25px;
        }

        /* Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ø³Ø±ÙŠØ¹Ø© (KPIs) */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: var(--card-bg);
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            border: 1px solid var(--border);
            transition: 0.3s;
        }

        .stat-card:hover { border-color: var(--taxi-yellow); }
        .stat-card h3 { color: var(--text-gray); margin: 0; font-size: 1rem; }
        .stat-card .value { font-size: 1.8rem; font-weight: bold; color: var(--taxi-yellow); margin-top: 10px; }

        /* Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠØ© */
        .charts-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .chart-box {
            background: var(--card-bg);
            padding: 20px;
            border-radius: 20px;
            border: 1px solid var(--border);
        }

        /* Ø£Ø¯ÙˆØ§Øª Ø§Ù„ØªØ­ÙƒÙ… */
        .controls {
            background: #1e1e1e;
            padding: 20px;
            border-radius: 12px;
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 25px;
            align-items: flex-end;
        }

        input, select, button {
            padding: 12px;
            border-radius: 8px;
            border: 1px solid var(--border);
            background: #252525;
            color: white;
            font-family: 'Tajawal';
        }

        .btn-print {
            background: var(--taxi-yellow);
            color: #000;
            font-weight: bold;
            cursor: pointer;
            border: none;
        }

        @media print {
            .controls { display: none; }
        }
    </style>
</head>
<body>

    <div class="report-header">
        <div>
            <h1 style="margin:0">ğŸ“Š Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„ØªØ­Ù„ÙŠÙ„ÙŠØ©</h1>
            <p style="color:var(--text-gray); margin:5px 0 0 0;">Ø§Ø³ØªØ¹Ø±Ø¶ Ø§Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„Ù…Ø§Ù„ÙŠ ÙˆØ§Ù„ØªØ´ØºÙŠÙ„ÙŠ Ù„Ø£Ø³Ø·ÙˆÙ„Ùƒ</p>
        </div>
        <button class="btn-print" onclick="window.print()">Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„ØªÙ‚Ø±ÙŠØ± (PDF)</button>
    </div>

    <div class="controls">
        <div>
            <label style="display:block; margin-bottom:5px;">Ù…Ù† ØªØ§Ø±ÙŠØ®</label>
            <input type="date" id="startDate">
        </div>
        <div>
            <label style="display:block; margin-bottom:5px;">Ø¥Ù„Ù‰ ØªØ§Ø±ÙŠØ®</label>
            <input type="date" id="endDate">
        </div>
        <div>
            <label style="display:block; margin-bottom:5px;">Ù†ÙˆØ¹ Ø§Ù„Ø³ÙŠØ§Ø±Ø©</label>
            <select id="carFilter">
                <option value="all">Ø§Ù„ÙƒÙ„</option>
            </select>
        </div>
        <button class="btn-print" style="background: #27ae60; color: white;">ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</button>
    </div>

    <div class="stats-grid">
        <div class="stat-card">
            <h3>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª</h3>
            <div class="value">0.00 JD</div>
        </div>
        <div class="stat-card">
            <h3>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…ØµØ§Ø±ÙŠÙ</h3>
            <div class="value" style="color: #e74c3c;">0.00 JD</div>
        </div>
        <div class="stat-card">
            <h3>ØµØ§ÙÙŠ Ø§Ù„Ø±Ø¨Ø­</h3>
            <div class="value" style="color: #2ecc71;">0.00 JD</div>
        </div>
        <div class="stat-card">
            <h3>Ø¹Ø¯Ø¯ Ø§Ù„Ø±Ø­Ù„Ø§Øª/Ø§Ù„Ø³Ø¬Ù„Ø§Øª</h3>
            <div class="value" style="color: #3498db;">0</div>
        </div>
    </div>

    <div class="charts-container">
        <div class="chart-box">
            <h3 style="text-align: center; color: var(--taxi-yellow);">Ù…Ù‚Ø§Ø±Ù†Ø© Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯ Ø¨Ø§Ù„Ù…ØµØ§Ø±ÙŠÙ</h3>
            <canvas id="revenueChart"></canvas>
        </div>
        <div class="chart-box">
            <h3 style="text-align: center; color: var(--taxi-yellow);">ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ù…ØµØ§Ø±ÙŠÙ</h3>
            <canvas id="expensePieChart"></canvas>
        </div>
    </div>

    <script>
        // Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø±Ø³Ù… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠ Ù„Ù„Ø£Ø¹Ù…Ø¯Ø©
        const ctx1 = document.getElementById('revenueChart').getContext('2d');
        new Chart(ctx1, {
            type: 'bar',
            data: {
                labels: ['Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ 1', 'Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ 2', 'Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ 3', 'Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ 4'],
                datasets: [{
                    label: 'Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª',
                    data: [1200, 1900, 1500, 2100],
                    backgroundColor: '#f1c40f'
                }, {
                    label: 'Ø§Ù„Ù…ØµØ§Ø±ÙŠÙ',
                    data: [800, 1200, 900, 1100],
                    backgroundColor: '#e74c3c'
                }]
            },
            options: { responsive: true, plugins: { legend: { labels: { color: 'white' } } } }
        });

        // Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø±Ø³Ù… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠ Ø§Ù„Ø¯Ø§Ø¦Ø±ÙŠ
        const ctx2 = document.getElementById('expensePieChart').getContext('2d');
        new Chart(ctx2, {
            type: 'doughnut',
            data: {
                labels: ['ÙˆÙ‚ÙˆØ¯', 'ØµÙŠØ§Ù†Ø©', 'Ø±Ø³ÙˆÙ… Ù…ÙƒØªØ¨', 'Ø£Ø®Ø±Ù‰'],
                datasets: [{
                    data: [40, 25, 20, 15],
                    backgroundColor: ['#e74c3c', '#3498db', '#9b59b6', '#f39c12']
                }]
            },
            options: { responsive: true, plugins: { legend: { position: 'bottom', labels: { color: 'white' } } } }
        });
    </script>
</body>
</html>